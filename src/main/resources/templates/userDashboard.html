<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="fragments/invisibleElements :: head"></th:block>
    <title>Dashboard</title>
</head>
<body>
<th:block th:insert="fragments/invisibleElements :: topOfPage"></th:block>
<!--Navbar Frag-->
<nav th:replace="fragments/visibleElements :: Nav"></nav>

<div class="container">

    <h1> Welcome back, <a th:href="'/profile/' + ${user.getId()}"><span th:text="${user.getFirst_name()}"></span></a>!</h1>


    <!--notes for styling-->
    <!--limit temp to 2 numbers and add degree symbols-->
    <!--put description, current, hi, lo words-->
    <!--make big and beautiful to take up room of a three day forecast-->
    <!--icon if time allows-->
    <div id="weatherDiv">
        <h1 th:text="${weather.weatherDescription}"></h1>
        <h1 th:text="${weather.currentTemp}"></h1>
        <h1 th:text="${weather.lowTemp}"></h1>
        <h1 th:text="${weather.highTemp}"></h1>
    </div>


    <!-- List of links to User's garden(s) -->
    <div>
        <div th:each="garden : ${allTheGardens}">
            <a th:href="@{'/garden/' + ${garden.getId()}}">
                <span th:text="${garden.getGarden_name()}"></span>
            </a>
        </div>
    </div>

    <!--Create a new garden button -->
    <form th:action="@{'/dashboard/'+ ${userId}}" th:method="post" th:object="${newGarden}"> <!-- Where's this go? -->
        <!--  new Garden object made in UserController: showDashboard (named newGarden) passed to here,
         which then passes it to GardenController: createGarden   -->
        <input type="submit" class="btn btn-success" value="Create New Garden">
    </form>

    <!--Gardening tips-->
    <div id="gardeningTipsDiv">
        A quick tip:
        <br>
        <!-- the tip will append here -->
    </div>

</div>
<!-- Footer -->
<footer th:replace="fragments/visibleElements :: footer"></footer>
<!-- JavaScript  -->
<th:block th:insert="fragments/invisibleElements :: JavaScript"></th:block>
</body>
</html>